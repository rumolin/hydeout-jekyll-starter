Wofür ist OpenRefine?
- Überblick über Daten verschaffen
Inkonsistenzen in Datensets lösen und entdecken, beispielsweise Datenformat standardisieren
Datensätze aufsplitten
Datensets matchen
Datenset mit Fremddaten anreichern. 

Daten Importieren über Create Project
- voreingestellte Einstellungen übernehmen. 

Zwei Darstellungsoptionen: Rows und Records. Rows repräsentieren einzelne Records -> Im Record-Mode werden verschiedene Rows angezeigt, die zum gleichen Record gehören. Zellen können gesplittet/gejoint werden. Dazu Seperator gut auswählen, darf nicht im Datenset enthalten sein! Als Excel-Userin zuerst ungewöhnlich, werden Funktionen direkt bei der jeweiligen Spaltenbeschriftung angegeben. Macht aber eigentlich Sinn und ist intuitiv. 

Zum Filtern unterscheiden OpenRefine zwischen Facets und Filtern. Facets: helfen, einen Überblick über die Daten zu verschaffen und Konsistenz zu verbesesrn. Sie "gruppieren" bestimmte Werte, welche dann über das Panel in- (oder danach auch wieder ex-)kludiert werden können. Die "Gruppierungen" können über edit auch bearbeitet (und so beispielsweise zusammengefügt oder vereinheitlicht) werden. Neben den Text-Facets gibt es auch noch 

* Numeric Facets
* Timeline facets (für Daten)
* Scatterplot Facets
* Custom Facets 

Die erste beiden kreieren einen Art Schieberegler, wo dann das Datum respektive die Zahl eingeschränkt werden kann. die Custom Facets beinhalten viele Arten von Facets. Häufig gebraucht wird wohl Facet by Blank und Text length Facet. Facet by Blank beispielsweise unterteilt die Daten danach in true (also blanket vorhandan - true, ja) und false. 

Filter hingegen sind für bestimmte Textteile, vergleichbar mit CTRL+F. Für die Filter können auch Regex-Expressions gewählt werden. Da Regex und ich bin anhin nicht die besten Freunde wurden, wird mir das wohl nicht so schnell passieren... ;) 

Eine weitere mächtige Funktion von OpenRefine stellt das Clustering dar. Dies wir benutzt, um ähnliche, aber inkonsistente Daten in einer Spalte zu mergen. Offenbar gibt es verschiedene Merging-Methode, welche am besten funktioniert, ist logischerweise vom Datensatz abhängig. Leider hat bei mir nur die key collision (fingerprint)-Methode funktioniert, etwas anderes konnte ich nicht anwählen. 

Beim Dropdown-Menü auf der ersten Spalte (all) können Spalten entfernt, anders angeordnet oder umbenennt werden. 

Mit Facets, Filtern und Clustern können wir bereits einiges an den Daten verändern. Trotzdem gibt es einige Dinge, die sich dadurch nicht erreichen lassen, beispielsweise mehrere Spalten aus einer machen, Daten standardisieren, ohne sie sinngemäss zu verändern oder bestimmte Teile der Datensätze zu extrahieren. Dafür braucht es "Transformations". Für Transformations gibt es eine spezielle Sprache, genannt GREL. Es gibt beispielsweise
* value.toUppercase()
* value.toLowercase()
* value.toTitlecase() (erster Buchstabe gross, Rest klein)
* value.trim()
* value.toDate("dd/MM"yyyy")
* value.toString("dd MMMM yyyy")
* value.contains("test") -> liefert Boolean Ausdruck zurück-> if(value.contains("test"), "Test data", value) ersetzt einen Zellenwert mit den Worten "Test Data" wenn der Wert in der Zelle den tring "test" irgendwo beinhaltet. 

in OpenRefine gibt es auch Arrays. Diese sind Listen von Werten, die wie gewohnt in [] präsentiert werden. Die Werte werden jeweils von "" abgeschlossen (bei Strings) und durch Kommas getrennt. Mit GREL-Expressions können Arrays transformiert werden:
* value.split(",")
* value.split(",").sort() würde das splitten und alphabetisch sortieren A-Z
* value.split(",")[0] gibt ersten Listeneintrag aus
* value.split(",").sort().join(",") würde Array wieder zusammenführen, allerdings ist der Eintrag dann alphabetisch sortiert. 

Daten, die mit OpenRefine bearbeitet wurden, können am Ende exportiert werden. 

Fetching from URL: Daten können von Schnittstellen abgefragt und genutzt werden. Wir haben im Beispiel JSON importiert als eine Spalte und dann mit der FUnktion parseJson() bestimmte Bestandteile ausgelesen und in eine neue Spalte integriert. Dies ist in zwei Schritten passiert, ich habe versucht, das ganze auch in einem Schritt zu machen, hat aber nicht geklappt.... 


